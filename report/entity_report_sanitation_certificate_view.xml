<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="report_sanitation_certificate_pdf">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t t-call="web.external_layout">
                    <!-- Estilos para eliminar márgenes -->
                    <style>
                        @page {
                        size: A4 portrait;
                        margin: 0;
                        }

                        body {
                        margin: 0;
                        padding: 0;
                        }

                        .page {
                        margin: 0 !important;
                        padding: 0 !important;
                        }
                    </style>
                    <div class="page"
                        style="font-family: Arial, sans-serif; padding: 0cm 0cm 0cm 0cm; position: relative; min-height: 297mm;">

                        <!-- Encabezado con barra de colores -->
                        <div style="position: relative; margin-bottom: 50px; margin-left: 1.5cm;">
                            <!-- Barra de colores lateral izquierda solo en encabezado -->
                            <div
                                style="position: absolute; left: -1.5cm; top: 0; width: 12px; height: 120px;">
                                <div style="background-color: #FF0000; height: 25%; width: 100%;"></div>
                                <div style="background-color: #00FF00; height: 25%; width: 100%;"></div>
                                <div style="background-color: #00BFFF; height: 25%; width: 100%;"></div>
                                <div style="background-color: #0000FF; height: 25%; width: 100%;"></div>
                            </div>

                            <table style="width: 100%; border-collapse: collapse;">
                                <tr>
                                    <td
                                        style="width: 150px; vertical-align: middle; text-align: left;">
                                        <img t-att-src="'/entity/static/src/img/logo_gafumex.png'"
                                            style="max-height: 100px; max-width: 140px;" />
                                    </td>
                                    <td
                                        style="vertical-align: middle; text-align: center; padding: 0 20px;">
                                        <h1
                                            style="font-size: 48px; font-weight: bold; margin: 0; padding: 0; letter-spacing: 2px;">
                                            CERTIFICADO
                                        </h1>
                                        <h2
                                            style="font-size: 22px; font-weight: bold; margin: 5px 0 0 0; color: #4CAF50;">
                                            SANEAMIENTO AMBIENTAL
                                        </h2>
                                    </td>
                                    <td
                                        style="width: 180px; vertical-align: middle; text-align: right;">
                                        <p
                                            style="font-size: 16px; font-weight: bold; color: #FF0000; margin: 0; white-space: nowrap;">
                                            Nro. <span t-esc="doc.name" />
                                        </p>
                                    </td>
                                </tr>
                            </table>
                        </div>

                        <!-- Contenido principal -->
                        <div style="margin-left: 1.5cm; margin-right: 0;">
                                
                            <!-- Texto introductorio -->
                            <div style="margin-bottom: 30px;">
                                <p
                                    style="font-size: 13px; text-align: justify; line-height: 1.5; margin: 0;">
                                    Por el presente, certificamos que se han realizado los servicios
                                    de saneamiento ambiental correspondiente a:
                                </p>
                            </div>

                            <!-- Checkboxes de servicios -->
                            <div style="margin-bottom: 30px;">
                                <table style="width: 100%; border-collapse: collapse;">
                                    <tr>
                                        <td style="width: 33%; padding: 5px 10px 5px 0;">
                                            <t t-if="doc.disinfection">
                                                <span
                                                    style="display: inline-block; width: 18px; height: 18px; border: 2px solid #000; vertical-align: middle; margin-right: 8px; background-color: #000; -webkit-border-radius: 4px; -moz-border-radius: 4px; border-radius: 4px;"></span>
                                            </t>
                                            <t t-else="">
                                                <span
                                                    style="display: inline-block; width: 18px; height: 18px; border: 2px solid #000; vertical-align: middle; margin-right: 8px; -webkit-border-radius: 4px; -moz-border-radius: 4px; border-radius: 4px;"></span>
                                            </t>
                                            <span style="font-weight: bold; font-size: 12px;">
                                                DESINFECCION</span>
                                        </td>
                                        <td style="width: 33%; padding: 5px 10px;">
                                            <t t-if="doc.rat_extermination">
                                                <span
                                                    style="display: inline-block; width: 18px; height: 18px; border: 2px solid #000; vertical-align: middle; margin-right: 8px; background-color: #000; -webkit-border-radius: 4px; -moz-border-radius: 4px; border-radius: 4px;"></span>
                                            </t>
                                            <t t-else="">
                                                <span
                                                    style="display: inline-block; width: 18px; height: 18px; border: 2px solid #000; vertical-align: middle; margin-right: 8px; -webkit-border-radius: 4px; -moz-border-radius: 4px; border-radius: 4px;"></span>
                                            </t>
                                            <span style="font-weight: bold; font-size: 12px;">
                                                DESRATIZACION</span>
                                        </td>
                                        <td style="width: 34%; padding: 5px 0 5px 10px;">
                                            <t t-if="doc.septic_tank_cleaning">
                                                <span
                                                    style="display: inline-block; width: 18px; height: 18px; border: 2px solid #000; vertical-align: middle; margin-right: 8px; background-color: #000; -webkit-border-radius: 4px; -moz-border-radius: 4px; border-radius: 4px;"></span>
                                            </t>
                                            <t t-else="">
                                                <span
                                                    style="display: inline-block; width: 18px; height: 18px; border: 2px solid #000; vertical-align: middle; margin-right: 8px; -webkit-border-radius: 4px; -moz-border-radius: 4px; border-radius: 4px;"></span>
                                            </t>
                                            <span style="font-weight: bold; font-size: 12px;">LIMPIEZA
                                                DE TANQUE SEPTICO</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width: 33%; padding: 5px 10px 5px 0;">
                                            <t t-if="doc.insect_control">
                                                <span
                                                    style="display: inline-block; width: 18px; height: 18px; border: 2px solid #000; vertical-align: middle; margin-right: 8px; background-color: #000; -webkit-border-radius: 4px; -moz-border-radius: 4px; border-radius: 4px;"></span>
                                            </t>
                                            <t t-else="">
                                                <span
                                                    style="display: inline-block; width: 18px; height: 18px; border: 2px solid #000; vertical-align: middle; margin-right: 8px; -webkit-border-radius: 4px; -moz-border-radius: 4px; border-radius: 4px;"></span>
                                            </t>
                                            <span style="font-weight: bold; font-size: 12px;">
                                                DESINSECTACION</span>
                                        </td>
                                        <td colspan="2" style="padding: 5px 0 5px 10px;">
                                            <t t-if="doc.water_reservoir_cleaning_desinfection">
                                                <span
                                                    style="display: inline-block; width: 18px; height: 18px; border: 2px solid #000; vertical-align: middle; margin-right: 8px; background-color: #000; -webkit-border-radius: 4px; -moz-border-radius: 4px; border-radius: 4px;"></span>
                                            </t>
                                            <t t-else="">
                                                <span
                                                    style="display: inline-block; width: 18px; height: 18px; border: 2px solid #000; vertical-align: middle; margin-right: 8px; -webkit-border-radius: 4px; -moz-border-radius: 4px; border-radius: 4px;"></span>
                                            </t>
                                            <span style="font-weight: bold; font-size: 12px;">LIMPIEZA
                                                Y DESINFECCION DE RESERVORIO DE AGUA</span>
                                        </td>
                                    </tr>
                                </table>
                            </div>

                            <!-- Datos del cliente en campos con bordes (CON MARCA DE AGUA) -->
                            <div style="margin-bottom: 30px; position: relative;">
                                <!-- Marca de agua solo en esta sección -->
                                <div
                                    style="position: absolute; right: 10%; top: 50%; transform: translateY(-50%); opacity: 0.08; z-index: 0;">
                                    <img t-att-src="'/entity/static/src/img/logo_gafumex.png'"
                                        style="height: 350px; width: auto;" />
                                </div>

                                <!-- Campo A -->
                                <table
                                    style="width: 100%; border-collapse: separate; border-spacing: 0; margin-bottom: 15px; position: relative; z-index: 1;">
                                    <tr>
                                        <td
                                            style="width: 165px; font-weight: bold; font-size: 13px; vertical-align: middle; padding-right: 10px;">
                                            A
                                        </td>
                                        <td
                                            style="border: 2px solid #000; padding: 8px 15px; font-size: 13px; border-radius: 10px; background-color: rgba(255, 255, 255, 0.9);">
                                            <span t-field="doc.owner_id.name" />
                                        </td>
                                    </tr>
                                </table>

                                <!-- Campo UBICADO -->
                                <table
                                    style="width: 100%; border-collapse: separate; border-spacing: 0; margin-bottom: 15px; position: relative; z-index: 1;">
                                    <tr>
                                        <td
                                            style="width: 165px; font-weight: bold; font-size: 13px; vertical-align: middle; padding-right: 10px;">
                                            UBICADO
                                        </td>
                                        <td
                                            style="border: 2px solid #000; padding: 8px 15px; font-size: 13px; border-radius: 10px; background-color: rgba(255, 255, 255, 0.9);">
                                            <span t-field="doc.owner_id.street" />
                                            <span t-if="doc.owner_id.city">, <span
                                                    t-field="doc.owner_id.city" /></span>
                                        </td>
                                    </tr>
                                </table>

                                <!-- Campo GIRO -->
                                <table
                                    style="width: 100%; border-collapse: separate; border-spacing: 0; margin-bottom: 15px; position: relative; z-index: 1;">
                                    <tr>
                                        <td
                                            style="width: 165px; font-weight: bold; font-size: 13px; vertical-align: middle; padding-right: 10px;">
                                            GIRO
                                        </td>
                                        <td
                                            style="border: 2px solid #000; padding: 8px 15px; font-size: 13px; border-radius: 10px; background-color: rgba(255, 255, 255, 0.9);">
                                            <span t-field="doc.business_activity" />
                                        </td>
                                    </tr>
                                </table>

                                <!-- Campo AREA TRATADA -->
                                <table
                                    style="width: 100%; border-collapse: separate; border-spacing: 0; margin-bottom: 15px; position: relative; z-index: 1;">
                                    <tr>
                                        <td
                                            style="width: 165px; font-weight: bold; font-size: 13px; vertical-align: middle; padding-right: 10px;">
                                            AREA TRATADA
                                        </td>
                                        <td
                                            style="border: 2px solid #000; padding: 8px 15px; font-size: 13px; border-radius: 10px; background-color: rgba(255, 255, 255, 0.9);">
                                            <span t-field="doc.treated_area" />
                                        </td>
                                    </tr>
                                </table>

                                <!-- Campos de fechas lado a lado -->
                                <table
                                    style="width: 100%; border-collapse: separate; border-spacing: 10px 0; position: relative; z-index: 1;">
                                    <tr>
                                        <td
                                            style="width: 120px; font-weight: bold; font-size: 13px; vertical-align: middle; padding-right: 0; white-space: nowrap;">
                                            FECHA DE SERVICIO
                                        </td>
                                        <td
                                            style="width: 30%; border: 2px solid #000; padding: 8px 15px; font-size: 13px; border-radius: 10px; background-color: rgba(255, 255, 255, 0.9);">
                                            <span t-field="doc.service_start_date"
                                                t-options="{'widget': 'date', 'format': 'MMMM yyyy'}" />
                                        </td>
                                        <td
                                            style="width: 180px; font-weight: bold; font-size: 13px; vertical-align: middle; padding: 0 10px; text-align: right; white-space: nowrap;">
                                            FECHA DE VENCIMIENTO
                                        </td>
                                        <td
                                            style="width: 30%; border: 2px solid #000; padding: 8px 15px; font-size: 13px; border-radius: 10px; background-color: rgba(255, 255, 255, 0.9);">
                                            <span t-field="doc.expiration_date"
                                                t-options="{'widget': 'date', 'format': 'MMMM yyyy'}" />
                                        </td>
                                    </tr>
                                </table>
                            </div>

                            <!-- Fecha de emisión -->
                            <div style="text-align: right; margin-top: 10px; margin-bottom: 30px;">
                                <p style="font-size: 13px; margin: 0;"> Lima, <span
                                        t-field="doc.service_start_date"
                                        t-options="{'widget': 'date', 'format': 'dd \'de\' MMMM \'de\' yyyy'}" />
                                </p>
                            </div>

                            <!-- Información de firmas -->
                            <table style="width: 100%; font-size: 10px; margin-top: 80px;">
                                <tr>
                                    <td
                                        style="width: 40%; text-align: center; vertical-align: top; padding-right: 20px;">
                                        <div
                                            style="border-top: 2px solid #000; width: 80%; margin: 0 auto 5px auto;"></div>
                                        <div style="margin-bottom: 8px;">
                                            Gerente General
                                        </div>
                                    </td>
                                    <td
                                        style="width: 40%; text-align: center; vertical-align: top; padding-left: 20px;">
                                        <div
                                            style="border-top: 2px solid #000; width: 80%; margin: 0 auto 5px auto;"></div>
                                        <div style="margin-bottom: 8px;">
                                            Firma y sello del Ing. Sanitario
                                        </div>
                                    </td>
                                    <td style="width: 20%; text-align: center; vertical-align: top;">
                                        <div style="text-align: right;">
                                            <img t-att-src="'/entity/static/src/img/sgs_logo.png'"
                                                style="height: 35px; vertical-align: middle; margin-right: 5px;"
                                                alt="SGS" />
                                            <span
                                                style="font-size: 8px; vertical-align: middle; display: inline-block; text-align: left; line-height: 1.2;">
                                                HOMOLOGADO
                                                <br />
                                                Homologación Proveedores 
                                            </span>
                                        </div>
                                    </td>
                                </tr>
                            </table>

                            <!-- Información de contacto -->
                            <table style="width: 100%; font-size: 10px; margin-top: 10px;">
                                <tr>
                                    <td
                                        style="width: 15%; text-align: left; vertical-align: top; padding-right: 20px;">
                                        <div style="margin-bottom: 3px;">
                                            Tel: (01) 543-0474
                                        </div>
                                    </td>
                                    <td
                                        style="width: 15%; text-align: left; vertical-align: top; padding-right: 20px;">
                                        <div style="margin-bottom: 3px;">
                                            Cel: 947-030-291
                                        </div>
                                    </td>
                                    <td style="width: 30%; text-align: center; vertical-align: top;">
                                        <div>
                                            Av. Tupac Amaru 7901 Alto Nueve - Comas
                                        </div>
                                    </td>
                                    <td
                                        style="width: 15%; text-align: right; vertical-align: top; padding-left: 20px;">
                                        <div style="margin-bottom: 5px;">
                                            www.grupogafumex.com
                                        </div>
                                    </td>
                                    <td
                                        style="width: 25%; text-align: right; vertical-align: top; padding-left: 20px;">
                                        <!-- <div style="margin-bottom: 5px;">
                                            www.grupogafumex.com
                                        </div> -->
                                    </td>
                                </tr>
                            </table>

                            <!-- Barra de colores -->
                            <div style="height: 5px; display: flex; margin-top: 15px;">
                                <div style="background-color: #FF0000; width: 25%; height: 100%;"></div>
                                <div style="background-color: #00FF00; width: 25%; height: 100%;"></div>
                                <div style="background-color: #00BFFF; width: 25%; height: 100%;"></div>
                                <div style="background-color: #0000FF; width: 25%; height: 100%;"></div>
                            </div>

                        </div>

                    </div>
                </t>
            </t>
        </t>
    </template>

    <record id="action_print_sanitation_certificate_pdf" model="ir.actions.report">
        <field name="name">Certificado de Saneamiento Ambiental</field>
        <field name="model">entity.sanitation.certificate</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">entity.report_sanitation_certificate_pdf</field>
        <field name="report_file">entity.report_sanitation_certificate_pdf</field>
        <field name="binding_model_id" ref="model_entity_sanitation_certificate" />
        <field name="binding_type">report</field>
        <field name="print_report_name">'Certificado_%s' % (object.name)</field>
        <!-- <field name="paperformat_id" ref="base.paperformat_us"/> -->
        <field name="paperformat_id" ref="entity.paperformat_sanitation_certificate"/>
    </record>
</odoo>